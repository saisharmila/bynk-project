(window["webpackJsonpbynk-project"]=window["webpackJsonpbynk-project"]||[]).push([[0],{29:function(e,t,a){e.exports=a(61)},34:function(e,t,a){},39:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(12),r=a.n(l),o=(a(34),a(5)),c=a(6),s=a(8),u=a(7),d=a(2),h=a(9),m=a(4),p=(a(39),a(1)),b=a(27),v=a.n(b),f=function(){return{type:"FETCH_COUNTRIES",payload:v.a.get("https://restcountries.eu/rest/v2/all")}},y=function(e){return{type:"VALIDATE_SSN",payload:e}},g=function(e){return{type:"VALIDATE_EMAIL",payload:e}},E=function(e){return{type:"VALIDATE_PHONE",payload:e}},O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={selectedCounty:localStorage.getItem("country")?localStorage.getItem("country"):""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCountries()}},{key:"countriesMapper",value:function(e){return e.map((function(e){return i.a.createElement("option",{"data-icon":e.flag,key:e.name,value:e.name},e.name)}))}},{key:"handleChange",value:function(e){this.setState({selectedCounty:e.target.value}),window.localStorage.setItem("country",e.target.value)}},{key:"render",value:function(){return this.props.countries?i.a.createElement("div",{className:"input-field col s12 m6"},i.a.createElement("select",{value:this.state.selectedCounty,onChange:this.handleChange,id:"countries",className:"icons"},this.countriesMapper(this.props.countries))):null}}]),t}(i.a.Component);var j=Object(m.b)((function(e){return{countries:e.countries}}),(function(e){return Object(p.b)({fetchCountries:f},e)}))(O),S=function(e,t){e&&(e.style.visibility=!1===t?"visible":"hidden")},w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={ssn:window.localStorage.getItem("ssn")?window.localStorage.getItem("ssn"):""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.checkValidity=a.checkValidity.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"checkValidity",value:function(e){this.props.validateSSN(e.target.value)}},{key:"handleChange",value:function(e){this.setState({ssn:e.target.value}),window.localStorage.setItem("ssn",e.target.value)}},{key:"render",value:function(){var e=document.getElementById("helper-text-ssn");return S(e,this.props.isSSNValid),i.a.createElement("div",null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("i",{className:"material-icons prefix"},"account_circle"),i.a.createElement("input",{onChange:this.handleChange,value:this.state.ssn,id:"ssn",onBlur:this.checkValidity,type:"text",className:"validate"}),i.a.createElement("label",{for:"ssn"},"Social security number"),i.a.createElement("span",{style:{visibility:"hidden"},id:"helper-text-ssn",className:"helper-text"},"Invalid Swedish security number!")))}}]),t}(i.a.Component);var N=Object(m.b)((function(e){return{isSSNValid:e.formValidity.isSSNValid}}),(function(e){return Object(p.b)({validateSSN:y},e)}))(w),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={email:localStorage.getItem("email")?localStorage.getItem("email"):""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.validateEmail=a.validateEmail.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"validateEmail",value:function(e){this.props.validateEmail(e.target.value)}},{key:"handleChange",value:function(e){this.setState({email:null}),window.localStorage.setItem("email",e.target.value)}},{key:"render",value:function(){var e=document.getElementById("helper-text-email");return S(e,this.props.isEmailValid),i.a.createElement("div",null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("i",{className:"material-icons prefix"},"email"),i.a.createElement("input",{value:this.state.email,onChange:this.handleChange,id:"email",type:"email",onBlur:this.validateEmail}),i.a.createElement("label",{htmlFor:"email"},"Email"),i.a.createElement("span",{style:{visibility:"hidden"},id:"helper-text-email",className:"helper-text"},"Invalid email!")))}}]),t}(i.a.Component);var C=Object(m.b)((function(e){return{isEmailValid:e.formValidity.isEmailValid}}),(function(e){return Object(p.b)({validateEmail:g},e)}))(V),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={phone:window.localStorage.getItem("phone")?window.localStorage.getItem("phone"):""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.validatePhone=a.validatePhone.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"validatePhone",value:function(e){this.props.validatePhoneNumber(e.target.value)}},{key:"handleChange",value:function(e){this.setState({phone:e.target.value}),window.localStorage.setItem("phone",e.target.value)}},{key:"render",value:function(){var e=document.getElementById("helper-text-phone");return S(e,this.props.isPhoneNumberValid),i.a.createElement("div",null,i.a.createElement("div",{className:"input-field col s6"},i.a.createElement("i",{className:"material-icons prefix"},"phone"),i.a.createElement("input",{onChange:this.handleChange,value:this.state.phone,id:"phone",type:"tel",onBlur:this.validatePhone,class:"validate"}),i.a.createElement("label",{htmlFor:"phone"},"Telephone"),i.a.createElement("span",{style:{visibility:" hidden"},id:"helper-text-phone",className:"helper-text"},"Invalid Swedish phone number!")))}}]),t}(i.a.Component);var I=Object(m.b)((function(e){return{isPhoneNumberValid:e.formValidity.isPhoneNumberValid}}),(function(e){return Object(p.b)({validatePhoneNumber:E},e)}))(k),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).submitData=a.submitData.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"submitData",value:function(e){e.preventDefault(),this.props.formHasError?alert("Form has errors, please check and resubmit"):(console.log("Success"),window.localStorage.clear(),alert("Form is looking good :)"))}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("form",{onSubmit:this.submitData},i.a.createElement(j,null),i.a.createElement(N,null),i.a.createElement(C,null),i.a.createElement(I,null),i.a.createElement("button",{className:"waves-effect waves-light btn-small",type:"submit"},"Submit")))}}]),t}(i.a.Component);var P=Object(m.b)((function(e){var t=e.formValidity,a=t.isSSNValid,n=t.isEmailValid,i=t.isPhoneNumberValid;return{formHasError:!(a&&n&&i)}}))(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(28),D=a.n(x),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNTRIES":return t.payload.data;default:return e}},L={isSSNValid:null,isEmailValid:null,isPhoneNumberValid:null},_=function(e,t){switch(t.type){case"VALIDATE_SSN":return/^(19|20)?(\d{6}([-+]|\s)\d{4}|(?!19|20)\d{10})$/.test(t.payload);default:return e}},B=function(e,t){switch(t.type){case"VALIDATE_EMAIL":return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t.payload.toLowerCase());default:return e}},F=function(e,t){switch(t.type){case"VALIDATE_PHONE":return/^((((0{2}?)|(\+){1})46)|0)7[\d]{8}/.test(t.payload);default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;return{isSSNValid:_(e.isSSNValid,t),isEmailValid:B(e.isEmailValid,t),isPhoneNumberValid:F(e.isPhoneNumberValid,t)}},M=Object(p.c)({countries:T,formValidity:H}),$=Object(p.d)(M,Object(p.a)(D.a));r.a.render(i.a.createElement(m.a,{store:$},i.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.88bf23c8.chunk.js.map